# Investica 주식 매매 및 시세 로직 - PPT 슬라이드 요약

## 📊 슬라이드 구성 (총 20슬라이드)

### 1️⃣ 개요 및 소개 (슬라이드 1-3)
- **프로젝트 소개**: AI 기반 주식 투자 분석 플랫폼
- **시스템 아키텍처**: React + NestJS + Agentica + KIS OpenAPI
- **클라이언트 API 구조**: stock.ts, tradingSlice.ts

### 2️⃣ 핵심 백엔드 로직 (슬라이드 4-8)
- **KIS Controller**: 12개 주요 엔드포인트 (인증, 매매, 시세, 포트폴리오)
- **데이터 모델**: IOrderRequest, IOrderResponse, IStockPrice 등
- **포트폴리오 시스템**: 요약 정보 및 개별 주식 보유 현황
- **서비스 계층**: KisService, KisTradingProvider 구조

### 3️⃣ AI 통합 및 사용자 경험 (슬라이드 9-11)
- **Agentica 통합**: GPT-4o-mini 기반 자연어 처리
- **AI 함수 정의**: 15개 주요 거래/조회 함수
- **거래 확인 시스템**: 실시간 사용자 승인 프로세스

### 4️⃣ 기술적 세부사항 (슬라이드 12-15)
- **인증/세션**: OAuth 2.0, 토큰 자동 갱신
- **실시간 통신**: WebSocket 기반 양방향 통신
- **에러 처리**: 구조화된 로깅 및 마스킹
- **보안 고려사항**: 현재 구현 vs 실서비스 요구사항

### 5️⃣ 혁신성 및 확장성 (슬라이드 16-20)
- **UX 혁신**: 디지털 소외계층 대상 솔루션
- **데이터 플로우**: 매수/시세 조회 전체 프로세스
- **개발 환경**: pnpm, 환경 설정, 모니터링
- **성능 최적화**: 클라이언트/서버/모니터링
- **향후 발전**: 확장 가능한 아키텍처, 실전 적용 방안

---

## 🔑 핵심 기술 포인트

### 1. 자연어 기반 주식 거래
```
"삼성전자 100주 매수해줘" → AI 파싱 → buyStock() 함수 호출 → KIS API 실행
```

### 2. 실시간 거래 확인 시스템
```
AI 주문 요청 → 사용자 확인 모달 → 승인 시 실제 거래 실행
```

### 3. 통합된 시세 정보 제공
- 현재가, 일/주/월별 차트, 코스피 지수
- 마크다운 표 형식으로 구조화된 데이터 표시

### 4. 포트폴리오 관리
- 실시간 수익률, 보유 현황, 평가손익
- 초보자 친화적 용어 설명 포함

---

## 📈 주요 성과 지표

| 항목 | 세부 내용 |
|------|-----------|
| **기술 스택** | React 19 + NestJS 11 + Agentica 0.30.5 |
| **API 엔드포인트** | 총 12개 (인증, 매매, 시세, 포트폴리오) |
| **AI 함수** | 15개 자연어 처리 함수 |
| **실시간 기능** | WebSocket 기반 양방향 통신 |
| **보안 기능** | OAuth 2.0 + 세션 관리 + 데이터 마스킹 |

---

## 🎯 핵심 차별화 요소

### 1. **사용자 경험 혁신**
- 복잡한 주식 거래 → 자연어 대화
- 어려운 금융 용어 → 자동 해설
- 복잡한 UI → AI 기반 자동 화면 전환

### 2. **기술적 혁신**
- Agentica Framework 활용 AI 에이전트
- 실시간 거래 확인 시스템
- TypeScript 기반 타입 안전성

### 3. **사업적 가치**
- 디지털 소외계층 포용
- 투자 진입 장벽 낮춤
- 실제 증권사 API 연동

---

## 🚀 시연 시나리오

### 시나리오 1: 주식 매수
```
사용자: "삼성전자 주식 어때?"
AI: "삼성전자 현재가 조회 중..." → getStockPrice() 호출
AI: "현재가 75,000원입니다. 매수하시겠어요?"
사용자: "10주 매수해줘"
AI: "매수 주문 확인 중..." → 확인 모달 표시
사용자: [승인 클릭]
AI: "매수 주문이 완료되었습니다."
```

### 시나리오 2: 포트폴리오 확인
```
사용자: "내 주식 현황 보여줘"
AI: getPortfolioSummary() 호출
AI: 마크다운 표 형식으로 보유 종목, 수익률 표시
```

---

## 📋 PPT 제작 가이드라인

### 슬라이드 디자인
- **배경**: 금융/기술 느낌의 블루 계열
- **폰트**: 나눔고딕/맑은고딕 (한글), Arial (영문)
- **아이콘**: 주식, AI, 거래 관련 아이콘 활용

### 내용 구성
- **텍스트**: 간결한 불렛 포인트
- **코드**: 구문 강조 적용
- **다이어그램**: Mermaid 다이어그램을 이미지로 변환
- **표**: 마크다운 표를 PPT 표로 변환

### 애니메이션
- **전환**: 페이드 인/아웃
- **강조**: 중요 포인트에 확대/컬러 강조
- **플로우**: 다이어그램에 순차적 나타남 효과

---

## 📁 참고 자료

1. **주요 파일 위치**
   - `/server/src/controllers/kis/KisController.ts` - KIS API 엔드포인트
   - `/server/src/providers/kis/KisService.ts` - 핵심 비즈니스 로직
   - `/server/src/providers/kis/KisSessionService.ts` - AI 함수 정의
   - `/client/src/apis/stock.ts` - 클라이언트 API
   - `/client/src/store/slices/tradingSlice.ts` - 상태 관리

2. **기술 문서**
   - `README.md` - 프로젝트 개요 및 설치 가이드
   - `/docs/주식매매_시세_로직_분석.md` - 상세 기술 분석
   - `/docs/시스템_아키텍처_다이어그램.md` - 아키텍처 다이어그램

3. **외부 참조**
   - [Agentica Framework](https://github.com/wrtnlabs/agentica)
   - [KIS OpenAPI 문서](https://apiportal.koreainvestment.com)
   - [NestJS 공식 문서](https://nestjs.com)